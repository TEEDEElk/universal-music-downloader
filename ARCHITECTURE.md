# ğŸ—ï¸ Architecture Overview

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   GUI (Tkinter) â”‚              â”‚   CLI (argparse) â”‚        â”‚
â”‚  â”‚                 â”‚              â”‚                  â”‚        â”‚
â”‚  â”‚ â€¢ Platform      â”‚              â”‚ â€¢ --soundcloud   â”‚        â”‚
â”‚  â”‚ â€¢ Format        â”‚              â”‚ â€¢ --spotify      â”‚        â”‚
â”‚  â”‚ â€¢ Queue Mgmt    â”‚              â”‚ â€¢ --format       â”‚        â”‚
â”‚  â”‚ â€¢ Progress      â”‚              â”‚ â€¢ --output       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚           â”‚                                â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DOWNLOAD ENGINE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              URL PARSER & VALIDATOR                       â”‚  â”‚
â”‚  â”‚  â€¢ Detect platform (SoundCloud/Spotify)                  â”‚  â”‚
â”‚  â”‚  â€¢ Validate URL format                                   â”‚  â”‚
â”‚  â”‚  â€¢ Extract content type (track/playlist/album)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                                           â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚         â”‚                        â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚  SoundCloud â”‚          â”‚  Spotify   â”‚                      â”‚
â”‚  â”‚   Handler   â”‚          â”‚  Handler   â”‚                      â”‚
â”‚  â”‚             â”‚          â”‚            â”‚                      â”‚
â”‚  â”‚  uses:      â”‚          â”‚  uses:     â”‚                      â”‚
â”‚  â”‚  â€¢ yt-dlp   â”‚          â”‚  â€¢ spotdl  â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚         â”‚                        â”‚                             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                     â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AUDIO PROCESSING                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      FFmpeg                               â”‚  â”‚
â”‚  â”‚  â€¢ Format conversion (MP3/WAV)                           â”‚  â”‚
â”‚  â”‚  â€¢ Bitrate adjustment (320kbps)                          â”‚  â”‚
â”‚  â”‚  â€¢ Quality normalization                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              METADATA PROCESSOR                           â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ Extract from Platform API                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Title, Artist, Album, Year                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Album artwork URL                              â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                 â”‚                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ Download Album Art (requests)                   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Fetch JPEG from URL                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Resize/optimize if needed                     â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                 â”‚                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ Embed Metadata (mutagen)                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ ID3 tags for MP3                              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ INFO tags for WAV                             â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Embed album art                               â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FILE MANAGEMENT                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ Create output directory                                â”‚  â”‚
â”‚  â”‚ â€¢ Generate filename from metadata                        â”‚  â”‚
â”‚  â”‚ â€¢ Handle naming conflicts                                â”‚  â”‚
â”‚  â”‚ â€¢ Save to specified location                             â”‚  â”‚
â”‚  â”‚ â€¢ Clean up temporary files                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   OUTPUT FILES      â”‚
          â”‚                     â”‚
          â”‚  â€¢ Artist - Title.  â”‚
          â”‚    mp3/wav          â”‚
          â”‚  â€¢ Full metadata    â”‚
          â”‚  â€¢ Album artwork    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Details

### 1. User Interface Layer

**GUI (downloader_gui.py)**
- Tkinter-based modern interface
- Queue management system
- Real-time progress tracking
- Activity logging with timestamps

**CLI (downloader.py)**
- Argparse for command parsing
- Batch operation support
- Scriptable interface
- Detailed logging output

### 2. Download Engine

**URL Parser**
```python
Input: "https://open.spotify.com/track/..."
â†“
Platform: Spotify
Content Type: Track
Valid: True
```

**Platform Handlers**

*SoundCloud Handler (yt-dlp)*
- Direct stream capture
- Native metadata extraction
- Playlist support
- High-quality audio

*Spotify Handler (spotdl)*
- YouTube track matching
- Spotify API metadata
- Album/playlist support
- 320kbps output

### 3. Audio Processing

**FFmpeg Pipeline**
```
Input Stream
    â†“
Decode
    â†“
Normalize Volume
    â†“
Set Bitrate (320kbps) or Lossless
    â†“
Encode (MP3/WAV)
    â†“
Output File
```

**Metadata Embedding (mutagen)**
```
Audio File
    â†“
Parse Existing Tags
    â†“
Add/Update:
  - TIT2: Title
  - TPE1: Artist
  - TALB: Album
  - TDRC: Year
  - APIC: Album Art
    â†“
Save to File
```

### 4. File Management

**Output Structure**
```
~/Downloads/Music/
â”œâ”€â”€ Artist Name - Track Title.mp3
â”‚   Metadata: âœ“ Title âœ“ Artist âœ“ Album âœ“ Year âœ“ Artwork
â”‚
â”œâ”€â”€ Another Artist - Another Track.wav
â”‚   Metadata: âœ“ Title âœ“ Artist âœ“ Album âœ“ Year
â”‚
â””â”€â”€ ...
```

---

## Data Flow

### Single Track Download

```
1. User Input
   URL: https://soundcloud.com/artist/track
   Format: MP3
   
2. Parse URL
   Platform: SoundCloud
   Type: Single Track
   
3. Download Audio
   yt-dlp extracts stream
   Progress: [=====>    ] 50%
   
4. Convert Format
   FFmpeg: Stream â†’ MP3 320kbps
   
5. Extract Metadata
   From API: "Track Title" by "Artist Name"
   Artwork: https://i1.sndcdn.com/artworks-...
   
6. Download Artwork
   Save as: track.jpg (temporary)
   
7. Embed Metadata
   mutagen writes ID3 tags
   Embed artwork from track.jpg
   
8. Save File
   Output: Artist Name - Track Title.mp3
   Location: ~/Downloads/Music/
   
9. Cleanup
   Remove: track.jpg, track.info.json
   
10. Complete
    Status: âœ… Downloaded successfully
```

### Playlist Download

```
1. User Input
   URL: https://open.spotify.com/playlist/...
   Format: WAV
   
2. Parse Playlist
   spotdl extracts track list
   Found: 15 tracks
   
3. Queue Processing
   For each track (1-15):
     â”œâ”€ Download as MP3 (spotdl default)
     â”œâ”€ Convert to WAV (FFmpeg)
     â”œâ”€ Transfer metadata (mutagen)
     â””â”€ Save to output directory
   
4. Progress Tracking
   [Track 5/15] Processing "Song Title"
   Overall: [=======>  ] 33%
   
5. Complete
   Status: âœ… Downloaded 15/15 tracks
```

---

## Error Handling Flow

```
Download Request
    â†“
â”Œâ”€ Validate Dependencies â”€â”
â”‚   FFmpeg: âœ“             â”‚
â”‚   yt-dlp: âœ“             â”‚
â”‚   spotdl: âœ“             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate URL           â”‚
â”‚  â”œâ”€ Valid â†’ Continue    â”‚
â”‚  â””â”€ Invalid â†’ Error     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Download Audio         â”‚
â”‚  â”œâ”€ Success â†’ Continue  â”‚
â”‚  â”œâ”€ Network Error â†’     â”‚
â”‚  â”‚   Retry (3x)         â”‚
â”‚  â””â”€ Failed â†’ Error      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Process File           â”‚
â”‚  â”œâ”€ Success â†’ Complete  â”‚
â”‚  â””â”€ Error â†’ Log & Skip  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Threading Model

```
Main Thread (GUI)
    â”‚
    â”œâ”€ UI Event Loop
    â”‚   â””â”€ Handle user interactions
    â”‚
    â””â”€ Worker Thread (Download)
        â”‚
        â”œâ”€ Process Queue
        â”‚   â”œâ”€ Download Track 1
        â”‚   â”œâ”€ Download Track 2
        â”‚   â””â”€ Download Track N
        â”‚
        â””â”€ Update UI (thread-safe)
            â”œâ”€ Status text
            â”œâ”€ Progress bar
            â””â”€ Activity log
```

---

## Configuration Management

```
config.json
    â†“
Load at Startup
    â†“
Apply Settings
    â”œâ”€ Output Directory
    â”œâ”€ Default Format
    â”œâ”€ Audio Quality
    â””â”€ Logging Level
    â†“
Available to All Components
```

---

## Dependencies Graph

```
Application
    â”‚
    â”œâ”€â”€â”€ yt-dlp
    â”‚     â””â”€â”€â”€ (SoundCloud/YouTube extraction)
    â”‚
    â”œâ”€â”€â”€ spotdl
    â”‚     â”œâ”€â”€â”€ spotipy (Spotify API)
    â”‚     â””â”€â”€â”€ ytmusicapi (YouTube Music)
    â”‚
    â”œâ”€â”€â”€ mutagen
    â”‚     â””â”€â”€â”€ (Audio metadata)
    â”‚
    â”œâ”€â”€â”€ requests
    â”‚     â””â”€â”€â”€ (HTTP downloads)
    â”‚
    â””â”€â”€â”€ FFmpeg (external)
          â””â”€â”€â”€ (Audio conversion)
```

---

## Security Considerations

```
User Input
    â†“
Sanitize URLs
    â†“
Validate Against Allowed Domains
    â”œâ”€ soundcloud.com âœ“
    â”œâ”€ open.spotify.com âœ“
    â””â”€ others âœ—
    â†“
Execute in Subprocess
    â”œâ”€ No shell=True
    â””â”€ Escaped arguments
    â†“
Sandboxed Output Directory
    â””â”€ No path traversal
```

---

**This architecture ensures:**
- âœ… Modularity and maintainability
- âœ… Error resilience
- âœ… Thread safety
- âœ… Extensibility for new platforms
- âœ… Clean separation of concerns
